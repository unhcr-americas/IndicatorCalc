<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="IndicatorCalc">
<title>Utilities â€¢ IndicatorCalc</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Lato-0.4.7/font.css" rel="stylesheet">
<link href="../deps/Source_Code_Pro-0.4.7/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Utilities">
<meta property="og:description" content="IndicatorCalc">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">IndicatorCalc</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/utilities.html">Utilities</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/unhcr-americas/IndicatorCalc/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Utilities</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/unhcr-americas/IndicatorCalc/blob/HEAD/vignettes/utilities.Rmd" class="external-link"><code>vignettes/utilities.Rmd</code></a></small>
      <div class="d-none name"><code>utilities.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/unhcr-americas/IndicatorCalc" class="external-link">IndicatorCalc</a></span><span class="op">)</span></span></code></pre></div>
<!-- WARNING - This vignette is generated by {fusen} from dev/utilities.Rmd: do not edit by hand -->
<!-- Run this 'development' chunk -->
<!-- Store every call to library() that you need to explore your functions -->
<!--
 You need to run the 'description' chunk in the '0-dev_history.Rmd' file before continuing your code there.

If it is the first time you use {fusen}, after 'description', you can directly run the last chunk of the present file with inflate() inside.
-->
<p>Indicator functions are designed to work based on data stored as a
list - which is the default structure for a complex hierarchical survey
dataset with nested tables</p>
<p>The default export format from kobotoolbox includes variables names
generated as a concatenation of groups and names.</p>
<p>The indicators calculation are based on specific patterns to be
identified within the variable names. This allow to handle cases where
variables and questions would have been shifted within the sequence of
the questionnaire and through different questions groups.</p>
<p>The indicator functions also check that the data content is the one
expected. A check log is written to keep track of all issues</p>
<div class="section level2">
<h2 id="data-wrangling">Data Wrangling<a class="anchor" aria-label="anchor" href="#data-wrangling"></a>
</h2>
<p>Each indicator calculation is based on predefined frame, variable
name and variable value.</p>
<p>Therefore each indicator function is organised in 3 steps:</p>
<ul>
<li><p>Check if the standard frame/variable/modalities are already
present in the dataset (organised as a list..)
<code>fct_check_map</code></p></li>
<li><p>If not apply the mapping supplied as argument within the function
<code>fct_re_map</code></p></li>
<li><p>Apply the calculation - either to append the new variable to the
existing data or to output just the final vector with results.</p></li>
</ul>
<div class="section level3">
<h3 id="fct_var_mapping">fct_var_mapping<a class="anchor" aria-label="anchor" href="#fct_var_mapping"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">form</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"RMSCAPI.xlsx"</span>, package <span class="op">=</span> <span class="st">"IndicatorCalc"</span><span class="op">)</span></span>
<span><span class="co">#fct_var_mapping(xlsformpath = form)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="fct_check_map">fct_check_map<a class="anchor" aria-label="anchor" href="#fct_check_map"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">mapper</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>            hierarchy <span class="op">=</span> <span class="st">"main"</span>,</span>
<span>            variablemap <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>              label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Does this household use anything for lighting?"</span>,</span>
<span>                        <span class="st">"What source of electricity is used most of the time in this household?"</span><span class="op">)</span>,</span>
<span>              variable <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"LIGHT01"</span>, </span>
<span>                           <span class="st">"LIGHT03"</span><span class="op">)</span>,</span>
<span>              mappattern <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"LIGHT01"</span>, </span>
<span>                           <span class="st">"LIGHT03"</span><span class="op">)</span> <span class="op">)</span>,</span>
<span>            modalitymap <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>              variable <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span> <span class="st">"LIGHT01"</span>, </span>
<span>                            <span class="st">"LIGHT03"</span>, <span class="st">"LIGHT03"</span>, <span class="st">"LIGHT03"</span><span class="op">)</span>,</span>
<span>              label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span> <span class="st">"yes"</span>,</span>
<span>                        <span class="st">"No electricity in household"</span>, <span class="st">"Other, specify"</span>, <span class="st">"Don't know"</span><span class="op">)</span>,</span>
<span>              standard <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span> <span class="st">"1"</span>,</span>
<span>                           <span class="st">"1"</span>, <span class="st">"96"</span>, <span class="st">"98"</span><span class="op">)</span>,</span>
<span>              map <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1"</span>,</span>
<span>                      <span class="st">"1"</span>, <span class="st">"96"</span>, <span class="st">"98"</span><span class="op">)</span></span>
<span>            <span class="op">)</span></span>
<span>          <span class="op">)</span></span>
<span></span>
<span><span class="co">## Correct format</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>                LIGHT01 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1"</span>,  <span class="st">"1"</span>,  <span class="st">"0"</span>, <span class="st">"1"</span>,  <span class="st">"1"</span>,  <span class="st">"0"</span>, <span class="st">"1"</span>,  <span class="st">"1"</span>,  <span class="st">"1"</span><span class="op">)</span>,</span>
<span>                LIGHT03 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1"</span>, <span class="st">"96"</span>, <span class="st">"98"</span>, <span class="st">"1"</span>, <span class="st">"96"</span>, <span class="st">"98"</span>, <span class="st">"0"</span>, <span class="st">"96"</span>, <span class="st">"98"</span><span class="op">)</span><span class="op">)</span></span>
<span>             <span class="op">)</span></span>
<span><span class="fu"><a href="../reference/fct_check_map.html">fct_check_map</a></span><span class="op">(</span>datalist <span class="op">=</span> <span class="va">data</span>, mapper <span class="op">=</span> <span class="va">mapper</span> <span class="op">)</span></span>
<span><span class="co">#&gt; LIGHT01 is in the dataset and has at least one of the expected modality for calculation</span></span>
<span><span class="co">#&gt; LIGHT03 is in the dataset and has at least one of the expected modality for calculation</span></span>
<span></span>
<span><span class="co">## One variable is not correctly </span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>                LIGHT01 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1"</span>,  <span class="st">"1"</span>,  <span class="st">"0"</span>, <span class="st">"1"</span>,  <span class="st">"1"</span>,  <span class="st">"0"</span>, <span class="st">"1"</span>,  <span class="st">"1"</span>,  <span class="st">"1"</span><span class="op">)</span>,</span>
<span>                LIGH03 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1"</span>, <span class="st">"96"</span>, <span class="st">"98"</span>, <span class="st">"1"</span>, <span class="st">"96"</span>, <span class="st">"98"</span>, <span class="st">"0"</span>, <span class="st">"96"</span>, <span class="st">"98"</span><span class="op">)</span><span class="op">)</span></span>
<span>             <span class="op">)</span></span>
<span><span class="fu"><a href="../reference/fct_check_map.html">fct_check_map</a></span><span class="op">(</span>datalist <span class="op">=</span> <span class="va">data</span>, mapper <span class="op">=</span> <span class="va">mapper</span> <span class="op">)</span></span>
<span><span class="co">#&gt; LIGHT01 is in the dataset and has at least one of the expected modality for calculation</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">â„¹</span> LIGHT03 standard variable was not found in the dataset.</span></span>
<span></span>
<span><span class="co">## The first variable does not include a single 1...</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>                LIGHT01 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"0"</span>,  <span class="st">"0"</span>,  <span class="st">"0"</span>, <span class="st">"0"</span>,  <span class="st">"0"</span>,  <span class="st">"0"</span>, <span class="st">"0"</span>,  <span class="st">"0"</span>,  <span class="st">"0"</span><span class="op">)</span>,</span>
<span>                LIGHT03 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1"</span>, <span class="st">"96"</span>, <span class="st">"98"</span>, <span class="st">"1"</span>, <span class="st">"96"</span>, <span class="st">"98"</span>, <span class="st">"0"</span>, <span class="st">"96"</span>, <span class="st">"98"</span><span class="op">)</span><span class="op">)</span></span>
<span>             <span class="op">)</span></span>
<span><span class="fu"><a href="../reference/fct_check_map.html">fct_check_map</a></span><span class="op">(</span>datalist <span class="op">=</span> <span class="va">data</span>, mapper <span class="op">=</span> <span class="va">mapper</span> <span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">â„¹</span> LIGHT01 standard variable in the dataset misses at least one response among : 1</span></span>
<span><span class="co">#&gt; LIGHT03 is in the dataset and has at least one of the expected modality for calculation</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="fct_get_all_variable_names">fct_get_all_variable_names<a class="anchor" aria-label="anchor" href="#fct_get_all_variable_names"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">datalist</span> <span class="op">&lt;-</span> <span class="fu">kobocruncher</span><span class="fu">::</span><span class="fu"><a href="https://Edouard-Legoupil.github.io/kobocruncher/reference/kobo_data.html" class="external-link">kobo_data</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"demo_data.xlsx"</span>, <span class="co">#"test.xlsx", </span></span>
<span>                                             package <span class="op">=</span> <span class="st">"IndicatorCalc"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Unknown or uninitialised column: `_index`.</span></span>
<span><span class="co">#&gt; Warning: Unknown or uninitialised column: `_parent_index`.</span></span>
<span><span class="co">#&gt; Unknown or uninitialised column: `_parent_index`.</span></span>
<span><span class="co">#&gt; Unknown or uninitialised column: `_parent_index`.</span></span>
<span><span class="va">varname</span> <span class="op">&lt;-</span>   <span class="fu"><a href="../reference/fct_get_all_variable_names.html">fct_get_all_variable_names</a></span><span class="op">(</span>datalist <span class="op">=</span> <span class="va">datalist</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">varname</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 10 Ã— 2</span></span></span>
<span><span class="co">#&gt;    df    value              </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> main  index              </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> main  start              </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> main  end                </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> main  start_time_1       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> main  intro.intro        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> main  intro.interviewdate</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> main  intro.Bureau       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> main  intro.Country      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> main  intro.countryname  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> main  intro.geopoint</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="fct_re_map">fct_re_map<a class="anchor" aria-label="anchor" href="#fct_re_map"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mapper</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>            hierarchy <span class="op">=</span> <span class="st">"main"</span>,</span>
<span>            variablemap <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>              label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Does this household use anything for lighting?"</span>,</span>
<span>                        <span class="st">"What source of electricity is used most of the time in this household?"</span><span class="op">)</span>,</span>
<span>              variable <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"LIGHT01"</span>, </span>
<span>                           <span class="st">"LIGHT03"</span><span class="op">)</span>,</span>
<span>              mappattern <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"LIGHT01"</span>, </span>
<span>                           <span class="st">"LIGHT03"</span><span class="op">)</span> <span class="op">)</span>,</span>
<span>            modalitymap <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>              variable <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span> <span class="st">"LIGHT01"</span>, </span>
<span>                            <span class="st">"LIGHT03"</span>, <span class="st">"LIGHT03"</span>, <span class="st">"LIGHT03"</span><span class="op">)</span>,</span>
<span>              label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span> <span class="st">"yes"</span>,</span>
<span>                <span class="st">"No electricity in household"</span>, <span class="st">"Other, specify"</span>, <span class="st">"Don't know"</span><span class="op">)</span>,</span>
<span>              standard <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span> <span class="st">"1"</span>,</span>
<span>                           <span class="st">"1"</span>, <span class="st">"96"</span>, <span class="st">"98"</span><span class="op">)</span>,</span>
<span>              map <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"yes"</span>,</span>
<span>                      <span class="st">"Noelec"</span>, <span class="st">"Other"</span>, <span class="st">"Dontknow"</span><span class="op">)</span></span>
<span>            <span class="op">)</span></span>
<span>          <span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">## One variable is not correctly </span></span>
<span><span class="va">datalist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mainhousehold <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>                group.LIGHT01 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"yes"</span>,  <span class="st">"yes"</span>,  <span class="st">"no"</span>, <span class="st">"yes"</span>,  <span class="st">"yes"</span>,</span>
<span>                                  <span class="st">"no"</span>, <span class="st">"yes"</span>,  <span class="st">"yes"</span>,  <span class="st">"yes"</span><span class="op">)</span>,</span>
<span>                group.LIGHT03 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Noelec"</span>, <span class="st">"Other"</span>, <span class="st">"Dontknow"</span>, <span class="st">"Noelec"</span>, <span class="st">"Other"</span>,</span>
<span>                                  <span class="st">"Dontknow"</span>, <span class="st">"Nuclear"</span>, <span class="st">"Other"</span>, <span class="st">"Dontknow"</span><span class="op">)</span><span class="op">)</span></span>
<span>             <span class="op">)</span></span>
<span><span class="va">datalist</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fct_re_map.html">fct_re_map</a></span><span class="op">(</span>datalist <span class="op">=</span> <span class="va">datalist</span>, mapper <span class="op">=</span> <span class="va">mapper</span> <span class="op">)</span></span>
<span><span class="co">#&gt; Mapped levels for LIGHT01 are now: 1, no</span></span>
<span><span class="co">#&gt; Mapped levels for LIGHT03 are now: 1, 96, 98, Nuclear</span></span>
<span></span>
<span><span class="fu"><a href="../reference/fct_check_map.html">fct_check_map</a></span><span class="op">(</span>datalist <span class="op">=</span> <span class="va">datalist</span>, mapper <span class="op">=</span> <span class="va">mapper</span> <span class="op">)</span></span>
<span><span class="co">#&gt; LIGHT01 is in the dataset and has at least one of the expected modality for calculation</span></span>
<span><span class="co">#&gt; LIGHT03 is in the dataset and has at least one of the expected modality for calculation</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="fct_plot_indic_donut">fct_plot_indic_donut<a class="anchor" aria-label="anchor" href="#fct_plot_indic_donut"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">test</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  shelter <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html" class="external-link">rbinom</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">1</span>, <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span> shelter <span class="op">=</span> </span>
<span>  <span class="fu">labelled</span><span class="fu">::</span><span class="fu"><a href="https://haven.tidyverse.org/reference/labelled.html" class="external-link">labelled</a></span><span class="op">(</span> <span class="va">shelter</span>,</span>
<span>                      labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span> <span class="st">"Yes"</span> <span class="op">=</span> <span class="fl">1</span>, <span class="st">"No"</span> <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>,</span>
<span>                      label <span class="op">=</span> <span class="st">"Access to adequate shelter"</span><span class="op">)</span><span class="op">)</span> </span>
<span>  </span>
<span><span class="fu"><a href="../reference/fct_plot_indic_donut.html">fct_plot_indic_donut</a></span><span class="op">(</span>indicator <span class="op">=</span> <span class="va">test</span><span class="op">$</span><span class="va">shelter</span>,</span>
<span>                     subtitle_chart <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                     caption_chart <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                     ordered_threhold <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                     iconunicode <span class="op">=</span> <span class="st">"e54f"</span><span class="op">)</span> </span></code></pre></div>
<p><img src="utilities_files/figure-html/example-fct_plot_indic_donut-1.png" width="700"></p>
</div>
</div>
<div class="section level2">
<h2 id="generating-data-from-a-specific-form-definition">Generating data from a specific form definition<a class="anchor" aria-label="anchor" href="#generating-data-from-a-specific-form-definition"></a>
</h2>
<p>One key function is to generate a dummy dataset based on a specific
form structure</p>
<p>To demonstrate the package we will use the standard questionnaire and
then apply each indicator function to demonstrate them.</p>
<p>We can then also re-use the function to create dummy data based on
any form and then apply each indicator function to actually verify which
indicators can be created based on the form content.</p>
<div class="section level3">
<h3 id="fct_var_dummy">fct_var_dummy<a class="anchor" aria-label="anchor" href="#fct_var_dummy"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">## let's initiate a dataframe with an index of n r records</span></span>
<span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">384</span></span>
<span><span class="va">frame</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>        index <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span> <span class="st">"ID-"</span>,</span>
<span>                      <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/as_vector.html" class="external-link">as_vector</a></span><span class="op">(</span></span>
<span>                            <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="va">n</span>, <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">LETTERS</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>                            <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="va">paste0</span>, collapse <span class="op">=</span> <span class="st">""</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                          <span class="st">"-"</span>,</span>
<span>                          <span class="fu"><a href="https://rdrr.io/r/base/formatc.html" class="external-link">formatC</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">n</span>, width <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span>, flag <span class="op">=</span> <span class="st">"0"</span><span class="op">)</span></span>
<span>                        <span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## test inject select_one  </span></span>
<span><span class="va">frame</span> <span class="op">&lt;-</span> <span class="fu">fct_var_dummy</span><span class="op">(</span> </span>
<span>          frame <span class="op">=</span> <span class="va">frame</span>,</span>
<span>           name <span class="op">=</span> <span class="st">"testselect_one"</span>,</span>
<span>           type <span class="op">=</span> <span class="st">"select_one"</span>,</span>
<span>           list_opt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"alpha"</span>, <span class="st">"beta"</span>, <span class="st">"delta"</span><span class="op">)</span>,</span>
<span>           constraint <span class="op">=</span> <span class="cn">NULL</span></span>
<span>           <span class="op">)</span></span>
<span><span class="co">## test inject select_multiple in main</span></span>
<span><span class="va">frame</span> <span class="op">&lt;-</span> <span class="fu">fct_var_dummy</span><span class="op">(</span> </span>
<span>          frame <span class="op">=</span> <span class="va">frame</span>,</span>
<span>          name <span class="op">=</span> <span class="st">"testselect_multiple"</span>,</span>
<span>           type <span class="op">=</span> <span class="st">"select_multiple"</span>,</span>
<span>           list_opt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"alpha"</span>, <span class="st">"beta"</span>, <span class="st">"delta"</span><span class="op">)</span>,</span>
<span>           constraint <span class="op">=</span> <span class="cn">NULL</span></span>
<span>           <span class="op">)</span></span>
<span></span>
<span><span class="co">## test inject text</span></span>
<span><span class="va">frame</span> <span class="op">&lt;-</span> <span class="fu">fct_var_dummy</span><span class="op">(</span> </span>
<span>          frame <span class="op">=</span> <span class="va">frame</span>,</span>
<span>          name <span class="op">=</span> <span class="st">"testtext"</span>,</span>
<span>           type <span class="op">=</span> <span class="st">"text"</span>,</span>
<span>           list_opt <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>           constraint <span class="op">=</span> <span class="cn">NULL</span></span>
<span>           <span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">## test inject numeric  </span></span>
<span><span class="va">frame</span> <span class="op">&lt;-</span> <span class="fu">fct_var_dummy</span><span class="op">(</span></span>
<span>           frame <span class="op">=</span> <span class="va">frame</span>,</span>
<span>           name <span class="op">=</span> <span class="st">"testnumeric"</span>,</span>
<span>           type <span class="op">=</span> <span class="st">"numeric"</span>,</span>
<span>           list_opt <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>           constraint <span class="op">=</span> <span class="cn">NULL</span></span>
<span>           <span class="op">)</span></span>
<span></span>
<span><span class="co">## test inject date  </span></span>
<span><span class="va">frame</span> <span class="op">&lt;-</span> <span class="fu">fct_var_dummy</span><span class="op">(</span> </span>
<span>          frame <span class="op">=</span> <span class="va">frame</span>,</span>
<span>          name <span class="op">=</span> <span class="st">"testdate"</span>,</span>
<span>           type <span class="op">=</span> <span class="st">"date"</span>,</span>
<span>           list_opt <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>           constraint <span class="op">=</span> <span class="cn">NULL</span></span>
<span>           <span class="op">)</span></span>
<span></span>
<span><span class="co">## Preview out out</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">frame</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="6%">
<col width="10%">
<col width="17%">
<col width="16%">
<col width="17%">
<col width="10%">
<col width="8%">
<col width="13%">
</colgroup>
<thead><tr class="header">
<th align="left">index</th>
<th align="left">testselect_one</th>
<th align="right">testselect_multiple_alpha</th>
<th align="right">testselect_multiple_beta</th>
<th align="right">testselect_multiple_delta</th>
<th align="left">testtext</th>
<th align="right">testnumeric</th>
<th align="left">testdate</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">IDâ€“0001</td>
<td align="left">delta</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="left">FreeText_-0001</td>
<td align="right">90</td>
<td align="left">2022-08-23 00:08:04</td>
</tr>
<tr class="even">
<td align="left">IDâ€“0002</td>
<td align="left">alpha</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">FreeText_-0002</td>
<td align="right">44</td>
<td align="left">2023-03-23 14:32:58</td>
</tr>
<tr class="odd">
<td align="left">IDâ€“0003</td>
<td align="left">beta</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="left">FreeText_-0003</td>
<td align="right">68</td>
<td align="left">2023-01-17 07:58:29</td>
</tr>
<tr class="even">
<td align="left">IDâ€“0004</td>
<td align="left">beta</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">FreeText_-0004</td>
<td align="right">89</td>
<td align="left">2020-02-06 23:23:49</td>
</tr>
<tr class="odd">
<td align="left">IDâ€“0005</td>
<td align="left">beta</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="left">FreeText_-0005</td>
<td align="right">18</td>
<td align="left">2023-10-19 01:27:55</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="fct_kobo_dummy">fct_kobo_dummy<a class="anchor" aria-label="anchor" href="#fct_kobo_dummy"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">form</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"RMSCAPI.xlsx"</span>, package <span class="op">=</span> <span class="st">"IndicatorCalc"</span><span class="op">)</span></span>
<span><span class="va">datalist</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fct_kobo_dummy.html">fct_kobo_dummy</a></span><span class="op">(</span><span class="va">form</span>,</span>
<span>                       n <span class="op">=</span> <span class="fl">384</span>,</span>
<span>                       file <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Expected 2 pieces. Additional pieces discarded in 1 rows [374].</span></span>
<span><span class="co">#&gt; 1-start-start</span></span>
<span><span class="co">#&gt; 2-end-end</span></span>
<span><span class="co">#&gt; 3-calculate-start_time_1</span></span>
<span><span class="co">#&gt; 4-begin_group-intro.intro</span></span>
<span><span class="co">#&gt; 5-date-intro.interviewdate</span></span>
<span><span class="co">#&gt; 6-select_one-intro.Bureau</span></span>
<span><span class="co">#&gt; 7-select_one-intro.Country</span></span>
<span><span class="co">#&gt; 8-calculate-intro.countryname</span></span>
<span><span class="co">#&gt; 9-geopoint-intro.geopoint</span></span>
<span><span class="co">#&gt; 10-select_one-intro.pop_groups</span></span>
<span><span class="co">#&gt; 11-end_group-intro</span></span>
<span><span class="co">#&gt; 12-begin_group-intro2.intro2</span></span>
<span><span class="co">#&gt; 13-text-intro2.name_enumerator</span></span>
<span><span class="co">#&gt; 14-text-intro2.Intro01</span></span>
<span><span class="co">#&gt; 15-text-intro2.Intro02</span></span>
<span><span class="co">#&gt; 16-select_one-intro2.Intro03</span></span>
<span><span class="co">#&gt; 17-acknowledge-intro2.consent_form</span></span>
<span><span class="co">#&gt; 18-select_one-intro2.Intro04</span></span>
<span><span class="co">#&gt; 19-select_one-intro2.Intro05</span></span>
<span><span class="co">#&gt; 20-text-intro2.Intro05_other</span></span>
<span><span class="co">#&gt; 21-end_group-intro2</span></span>
<span><span class="co">#&gt; 22-begin_group-Part1.Part1</span></span>
<span><span class="co">#&gt; 23-note-Part1.note_HH01</span></span>
<span><span class="co">#&gt; 24-text-Part1.HHH01_aux</span></span>
<span><span class="co">#&gt; 25-integer-Part1.HHH01_age</span></span>
<span><span class="co">#&gt; 26-note-Part1.confirm1_hhhage</span></span>
<span><span class="co">#&gt; 27-end_repeat-Part1.endrpt_hhmnames</span></span>
<span><span class="co">#&gt; 28-select_one-Part1.respondent</span></span>
<span><span class="co">#&gt; 29-end_repeat-Part1.S1</span></span>
<span><span class="co">#&gt; 30-begin_group-Part1.quality_check.quality_check</span></span>
<span><span class="co">#&gt; 31-calculate-Part1.quality_check.MM18above</span></span>
<span><span class="co">#&gt; 32-calculate-Part1.quality_check.member1</span></span>
<span><span class="co">#&gt; 33-calculate-Part1.quality_check.member2</span></span>
<span><span class="co">#&gt; 34-calculate-Part1.quality_check.member3</span></span>
<span><span class="co">#&gt; 35-calculate-Part1.quality_check.member4</span></span>
<span><span class="co">#&gt; 36-calculate-Part1.quality_check.member5</span></span>
<span><span class="co">#&gt; 37-calculate-Part1.quality_check.member6</span></span>
<span><span class="co">#&gt; 38-calculate-Part1.quality_check.adult_sum_001</span></span>
<span><span class="co">#&gt; 39-calculate-Part1.quality_check.hh_size_001</span></span>
<span><span class="co">#&gt; 40-note-Part1.quality_check.confirm_adult</span></span>
<span><span class="co">#&gt; 41-note-Part1.quality_check.hhsize_note</span></span>
<span><span class="co">#&gt; 42-acknowledge-Part1.quality_check.confirm_hhsize</span></span>
<span><span class="co">#&gt; 43-end_group-Part1.quality_check</span></span>
<span><span class="co">#&gt; 44-end_group-Part1</span></span>
<span><span class="co">#&gt; 45-calculate-namechild2less</span></span>
<span><span class="co">#&gt; 46-calculate-nochild2less</span></span>
<span><span class="co">#&gt; 47-calculate-women_name_b_total</span></span>
<span><span class="co">#&gt; 48-calculate-women_name_b</span></span>
<span><span class="co">#&gt; 49-calculate-father_name_b</span></span>
<span><span class="co">#&gt; 50-calculate-women_name</span></span>
<span><span class="co">#&gt; 51-calculate-father_name</span></span>
<span><span class="co">#&gt; 52-calculate-adult_name</span></span>
<span><span class="co">#&gt; 53-end_repeat-S2_repeat</span></span>
<span><span class="co">#&gt; 54-begin_group-Part2.Part2</span></span>
<span><span class="co">#&gt; 55-note-Part2.NoteS2</span></span>
<span><span class="co">#&gt; 56-begin_group-Part2.P2_S1.P2_S1</span></span>
<span><span class="co">#&gt; 57-select_one-Part2.P2_S1.DWE01</span></span>
<span><span class="co">#&gt; 58-text-Part2.P2_S1.DWE01_other</span></span>
<span><span class="co">#&gt; 59-select_one-Part2.P2_S1.SHEL01</span></span>
<span><span class="co">#&gt; 60-select_one-Part2.P2_S1.SHEL02</span></span>
<span><span class="co">#&gt; 61-select_one-Part2.P2_S1.SHEL03</span></span>
<span><span class="co">#&gt; 62-select_one-Part2.P2_S1.SHEL04</span></span>
<span><span class="co">#&gt; 63-select_one-Part2.P2_S1.SHEL05</span></span>
<span><span class="co">#&gt; 64-select_one-Part2.P2_S1.SHEL06</span></span>
<span><span class="co">#&gt; 65-select_one-Part2.P2_S1.RISK01</span></span>
<span><span class="co">#&gt; 66-select_one-Part2.P2_S1.RISK02</span></span>
<span><span class="co">#&gt; 67-integer-Part2.P2_S1.DWE05</span></span>
<span><span class="co">#&gt; 68-end_group-Part2.P2_S1</span></span>
<span><span class="co">#&gt; 69-begin_group-Part2.P2_S2.P2_S2</span></span>
<span><span class="co">#&gt; 70-select_one-Part2.P2_S2.filter_camp</span></span>
<span><span class="co">#&gt; 71-select_one-Part2.P2_S2.DWE06_land</span></span>
<span><span class="co">#&gt; 72-text-Part2.P2_S2.DWE06_other_land</span></span>
<span><span class="co">#&gt; 73-select_one-Part2.P2_S2.DWE06a_land</span></span>
<span><span class="co">#&gt; 74-select_one-Part2.P2_S2.DWE07_land</span></span>
<span><span class="co">#&gt; 75-text-Part2.P2_S2.DWE07_other_land</span></span>
<span><span class="co">#&gt; 76-select_one-Part2.P2_S2.DWE06_housing</span></span>
<span><span class="co">#&gt; 77-text-Part2.P2_S2.DWE06_other_housing</span></span>
<span><span class="co">#&gt; 78-select_one-Part2.P2_S2.DWE06a_housing</span></span>
<span><span class="co">#&gt; 79-select_one-Part2.P2_S2.DWE07_housing</span></span>
<span><span class="co">#&gt; 80-text-Part2.P2_S2.DWE07_other_housing</span></span>
<span><span class="co">#&gt; 81-select_one-Part2.P2_S2.DWE08</span></span>
<span><span class="co">#&gt; 82-select_one-Part2.P2_S2.DWE09</span></span>
<span><span class="co">#&gt; 83-text-Part2.P2_S2.DWE09_other</span></span>
<span><span class="co">#&gt; 84-select_one-Part2.P2_S2.DWE10</span></span>
<span><span class="co">#&gt; 85-end_group-Part2.P2_S2</span></span>
<span><span class="co">#&gt; 86-begin_group-Part2.P2_S3.P2_S3</span></span>
<span><span class="co">#&gt; 87-select_one-Part2.P2_S3.COOK01</span></span>
<span><span class="co">#&gt; 88-select_one-Part2.P2_S3.COOK02</span></span>
<span><span class="co">#&gt; 89-text-Part2.P2_S3.COOK02_other</span></span>
<span><span class="co">#&gt; 90-select_one-Part2.P2_S3.COOK03</span></span>
<span><span class="co">#&gt; 91-text-Part2.P2_S3.COOK03_other</span></span>
<span><span class="co">#&gt; 92-select_one-Part2.P2_S3.LIGHT01</span></span>
<span><span class="co">#&gt; 93-select_one-Part2.P2_S3.LIGHT02</span></span>
<span><span class="co">#&gt; 94-text-Part2.P2_S3.LIGHT02_other</span></span>
<span><span class="co">#&gt; 95-select_one-Part2.P2_S3.LIGHT03</span></span>
<span><span class="co">#&gt; 96-text-Part2.P2_S3.LIGHT03_other</span></span>
<span><span class="co">#&gt; 97-calculate-Part2.P2_S3.electricity_source</span></span>
<span><span class="co">#&gt; 98-select_multiple-Part2.P2_S3.LIGHT04</span></span>
<span><span class="co">#&gt; 99-text-Part2.P2_S3.LIGHT04_other</span></span>
<span><span class="co">#&gt; 100-select_one-Part2.P2_S3.LIGHT05</span></span>
<span><span class="co">#&gt; 101-integer-Part2.P2_S3.LIGHT05_11</span></span>
<span><span class="co">#&gt; 102-integer-Part2.P2_S3.LIGHT05_22</span></span>
<span><span class="co">#&gt; 103-select_one-Part2.P2_S3.LIGHT06</span></span>
<span><span class="co">#&gt; 104-integer-Part2.P2_S3.LIGHT06_11</span></span>
<span><span class="co">#&gt; 105-integer-Part2.P2_S3.LIGHT06_22</span></span>
<span><span class="co">#&gt; 106-select_one-Part2.P2_S3.DWA01</span></span>
<span><span class="co">#&gt; 107-text-Part2.P2_S3.DWA01_other</span></span>
<span><span class="co">#&gt; 108-calculate-Part2.P2_S3.source</span></span>
<span><span class="co">#&gt; 109-calculate-Part2.P2_S3.source2</span></span>
<span><span class="co">#&gt; 110-select_one-Part2.P2_S3.DWA02</span></span>
<span><span class="co">#&gt; 111-text-Part2.P2_S3.DWA02_other</span></span>
<span><span class="co">#&gt; 112-begin_group-Part2.P2_S3.time_toi.time_toi</span></span>
<span><span class="co">#&gt; 113-note-Part2.P2_S3.time_toi.DWA03</span></span>
<span><span class="co">#&gt; 114-select_one-Part2.P2_S3.time_toi.DWA03a</span></span>
<span><span class="co">#&gt; 115-integer-Part2.P2_S3.time_toi.DWA03b</span></span>
<span><span class="co">#&gt; 116-end_group-Part2.P2_S3.time_toi</span></span>
<span><span class="co">#&gt; 117-select_one-Part2.P2_S3.DWA04</span></span>
<span><span class="co">#&gt; 118-select_one-Part2.P2_S3.TOI01</span></span>
<span><span class="co">#&gt; 119-text-Part2.P2_S3.TOI01_other</span></span>
<span><span class="co">#&gt; 120-select_one-Part2.P2_S3.TOI02</span></span>
<span><span class="co">#&gt; 121-select_one-Part2.P2_S3.TOI03</span></span>
<span><span class="co">#&gt; 122-text-Part2.P2_S3.TOI03_other</span></span>
<span><span class="co">#&gt; 123-select_one-Part2.P2_S3.TOI04</span></span>
<span><span class="co">#&gt; 124-text-Part2.P2_S3.TOI04_other</span></span>
<span><span class="co">#&gt; 125-select_one-Part2.P2_S3.TOI05</span></span>
<span><span class="co">#&gt; 126-end_group-Part2.P2_S3</span></span>
<span><span class="co">#&gt; 127-begin_group-Part2.P2_S4.P2_S4</span></span>
<span><span class="co">#&gt; 128-calculate-Part2.P2_S4.latestson</span></span>
<span><span class="co">#&gt; 129-select_one-Part2.P2_S4.BIR01</span></span>
<span><span class="co">#&gt; 130-select_one-Part2.P2_S4.BIR02</span></span>
<span><span class="co">#&gt; 131-select_multiple-Part2.P2_S4.BIR03</span></span>
<span><span class="co">#&gt; 132-text-Part2.P2_S4.BIR03_other</span></span>
<span><span class="co">#&gt; 133-select_one-Part2.P2_S4.BIR04</span></span>
<span><span class="co">#&gt; 134-text-Part2.P2_S4.BIR04_other</span></span>
<span><span class="co">#&gt; 135-select_one-Part2.P2_S4.HEA01</span></span>
<span><span class="co">#&gt; 136-text-Part2.P2_S4.HEA01_other</span></span>
<span><span class="co">#&gt; 137-select_one-Part2.P2_S4.HEA02</span></span>
<span><span class="co">#&gt; 138-text-Part2.P2_S4.HEA02_other</span></span>
<span><span class="co">#&gt; 139-integer-Part2.P2_S4.HEA03</span></span>
<span><span class="co">#&gt; 140-end_group-Part2.P2_S4</span></span>
<span><span class="co">#&gt; 141-begin_group-Part2.P2_S5.P2_S5</span></span>
<span><span class="co">#&gt; 142-note-Part2.P2_S5.SPF01</span></span>
<span><span class="co">#&gt; 143-select_one-Part2.P2_S5.SPF01_op</span></span>
<span><span class="co">#&gt; 144-select_one-Part2.P2_S5.SPF01a</span></span>
<span><span class="co">#&gt; 145-select_one-Part2.P2_S5.SPF01b</span></span>
<span><span class="co">#&gt; 146-select_one-Part2.P2_S5.SPF01c</span></span>
<span><span class="co">#&gt; 147-select_one-Part2.P2_S5.SPF01d</span></span>
<span><span class="co">#&gt; 148-select_one-Part2.P2_S5.SPF01e</span></span>
<span><span class="co">#&gt; 149-select_one-Part2.P2_S5.SPF01f</span></span>
<span><span class="co">#&gt; 150-select_one-Part2.P2_S5.SPF01g</span></span>
<span><span class="co">#&gt; 151-select_one-Part2.P2_S5.SPF01h</span></span>
<span><span class="co">#&gt; 152-select_one-Part2.P2_S5.SPF01j</span></span>
<span><span class="co">#&gt; 153-select_one-Part2.P2_S5.SPF01k</span></span>
<span><span class="co">#&gt; 154-select_one-Part2.P2_S5.SPF01l</span></span>
<span><span class="co">#&gt; 155-select_one-Part2.P2_S5.SPF01m</span></span>
<span><span class="co">#&gt; 156-select_one-Part2.P2_S5.SPF01n</span></span>
<span><span class="co">#&gt; 157-select_one-Part2.P2_S5.SPF01o</span></span>
<span><span class="co">#&gt; 158-select_one-Part2.P2_S5.SPF01p</span></span>
<span><span class="co">#&gt; 159-end_group-Part2.P2_S5</span></span>
<span><span class="co">#&gt; 160-end_group-Part2</span></span>
<span><span class="co">#&gt; 161-begin_group-Part3.Part3</span></span>
<span><span class="co">#&gt; 162-note-Part3.NoteS3</span></span>
<span><span class="co">#&gt; 163-begin_group-Part3.first_random.first_random</span></span>
<span><span class="co">#&gt; 164-calculate-Part3.first_random.random1ap</span></span>
<span><span class="co">#&gt; 165-calculate-Part3.first_random.eadult_nap</span></span>
<span><span class="co">#&gt; 166-calculate-Part3.first_random.epositionap</span></span>
<span><span class="co">#&gt; 167-calculate-Part3.first_random.random_indexap</span></span>
<span><span class="co">#&gt; 168-calculate-Part3.first_random.selected_adultap</span></span>
<span><span class="co">#&gt; 169-calculate-Part3.first_random.name_selectedadult18</span></span>
<span><span class="co">#&gt; 170-note-Part3.first_random.firstselect</span></span>
<span><span class="co">#&gt; 171-end_group-Part3.first_random</span></span>
<span><span class="co">#&gt; 172-begin_group-Part3.available_first_random.available_first_random</span></span>
<span><span class="co">#&gt; 173-note-Part3.available_first_random.Individual</span></span>
<span><span class="co">#&gt; 174-select_one-Part3.available_first_random.random_present</span></span>
<span><span class="co">#&gt; 175-note-Part3.available_first_random.random_available</span></span>
<span><span class="co">#&gt; 176-note-Part3.available_first_random.random_short</span></span>
<span><span class="co">#&gt; 177-end_group-Part3.available_first_random</span></span>
<span><span class="co">#&gt; 178-begin_group-Part3.second_random.second_random</span></span>
<span><span class="co">#&gt; 179-calculate-Part3.second_random.random1ap2</span></span>
<span><span class="co">#&gt; 180-calculate-Part3.second_random.eadult_nap2</span></span>
<span><span class="co">#&gt; 181-calculate-Part3.second_random.epositionap2</span></span>
<span><span class="co">#&gt; 182-calculate-Part3.second_random.random_indexap2</span></span>
<span><span class="co">#&gt; 183-calculate-Part3.second_random.selected_adultap2</span></span>
<span><span class="co">#&gt; 184-calculate-Part3.second_random.name_selectedadult18_2</span></span>
<span><span class="co">#&gt; 185-note-Part3.second_random.secondselect</span></span>
<span><span class="co">#&gt; 186-end_group-Part3.second_random</span></span>
<span><span class="co">#&gt; 187-begin_group-Part3.second_availability.second_availability</span></span>
<span><span class="co">#&gt; 188-note-Part3.second_availability.random_notavailable</span></span>
<span><span class="co">#&gt; 189-select_one-Part3.second_availability.random_present_2</span></span>
<span><span class="co">#&gt; 190-note-Part3.second_availability.random_available_2</span></span>
<span><span class="co">#&gt; 191-note-Part3.second_availability.random_short_2</span></span>
<span><span class="co">#&gt; 192-note-Part3.second_availability.random_notavailable_2</span></span>
<span><span class="co">#&gt; 193-end_group-Part3.second_availability</span></span>
<span><span class="co">#&gt; 194-note-Part3.enumerator_space</span></span>
<span><span class="co">#&gt; 195-select_one-Part3.name_respondent_individual</span></span>
<span><span class="co">#&gt; 196-begin_group-Part3.P3_S1.P3_S1</span></span>
<span><span class="co">#&gt; 197-select_one-Part3.P3_S1.EDU01_random</span></span>
<span><span class="co">#&gt; 198-select_one-Part3.P3_S1.UNEM01</span></span>
<span><span class="co">#&gt; 199-select_one-Part3.P3_S1.UNEM02</span></span>
<span><span class="co">#&gt; 200-select_one-Part3.P3_S1.UNEM03</span></span>
<span><span class="co">#&gt; 201-select_one-Part3.P3_S1.UNEM04</span></span>
<span><span class="co">#&gt; 202-select_one-Part3.P3_S1.UNEM05</span></span>
<span><span class="co">#&gt; 203-select_one-Part3.P3_S1.UNEM06</span></span>
<span><span class="co">#&gt; 204-select_one-Part3.P3_S1.UNEM07</span></span>
<span><span class="co">#&gt; 205-select_one-Part3.P3_S1.UNEM08</span></span>
<span><span class="co">#&gt; 206-select_one-Part3.P3_S1.UNEM09</span></span>
<span><span class="co">#&gt; 207-select_one-Part3.P3_S1.UNEM10</span></span>
<span><span class="co">#&gt; 208-select_one-Part3.P3_S1.INC01</span></span>
<span><span class="co">#&gt; 209-select_one-Part3.P3_S1.INC02</span></span>
<span><span class="co">#&gt; 210-select_one-Part3.P3_S1.BANK01</span></span>
<span><span class="co">#&gt; 211-select_one-Part3.P3_S1.BANK02</span></span>
<span><span class="co">#&gt; 212-select_one-Part3.P3_S1.BANK03</span></span>
<span><span class="co">#&gt; 213-select_one-Part3.P3_S1.BANK04</span></span>
<span><span class="co">#&gt; 214-select_one-Part3.P3_S1.BANK05</span></span>
<span><span class="co">#&gt; 215-end_group-Part3.P3_S1</span></span>
<span><span class="co">#&gt; 216-begin_group-Part3.P3_S3.P3_S3</span></span>
<span><span class="co">#&gt; 217-select_one-Part3.P3_S3.FRM01</span></span>
<span><span class="co">#&gt; 218-select_one-Part3.P3_S3.FRM02</span></span>
<span><span class="co">#&gt; 219-select-Part3.P3_S3.FRM03</span></span>
<span><span class="co">#&gt; 220-text-Part3.P3_S3.FRM03_other</span></span>
<span><span class="co">#&gt; 221-end_group-Part3.P3_S3</span></span>
<span><span class="co">#&gt; 222-begin_group-Part3.P3_S2.P3_S2</span></span>
<span><span class="co">#&gt; 223-select_one-Part3.P3_S2.SAF01</span></span>
<span><span class="co">#&gt; 224-note-Part3.P3_S2.gbv_vaw</span></span>
<span><span class="co">#&gt; 225-begin_group-Part3.P3_S2.GBV01.GBV01</span></span>
<span><span class="co">#&gt; 226-note-Part3.P3_S2.GBV01.GBV01_note</span></span>
<span><span class="co">#&gt; 227-select_one-Part3.P3_S2.GBV01.GBV01_001</span></span>
<span><span class="co">#&gt; 228-select_one-Part3.P3_S2.GBV01.GBV01a</span></span>
<span><span class="co">#&gt; 229-select_one-Part3.P3_S2.GBV01.GBV01b</span></span>
<span><span class="co">#&gt; 230-select_one-Part3.P3_S2.GBV01.GBV01c</span></span>
<span><span class="co">#&gt; 231-select_one-Part3.P3_S2.GBV01.GBV01d</span></span>
<span><span class="co">#&gt; 232-end_group-Part3.P3_S2.GBV01</span></span>
<span><span class="co">#&gt; 233-select_one-Part3.P3_S2.gbv_screen</span></span>
<span><span class="co">#&gt; 234-note-Part3.P3_S2.VAWpre_note</span></span>
<span><span class="co">#&gt; 235-select_one-Part3.P3_S2.VAWpre_001</span></span>
<span><span class="co">#&gt; 236-select_one-Part3.P3_S2.VAWpre01</span></span>
<span><span class="co">#&gt; 237-select_one-Part3.P3_S2.VAWpre02</span></span>
<span><span class="co">#&gt; 238-select_one-Part3.P3_S2.VAWpre03</span></span>
<span><span class="co">#&gt; 239-select_one-Part3.P3_S2.VAWpre04</span></span>
<span><span class="co">#&gt; 240-note-Part3.P3_S2.VAW_presence</span></span>
<span><span class="co">#&gt; 241-begin_group-Part3.P3_S2.VAW.VAW</span></span>
<span><span class="co">#&gt; 242-note-Part3.P3_S2.VAW.VAW01_note</span></span>
<span><span class="co">#&gt; 243-select_one-Part3.P3_S2.VAW.VAW01</span></span>
<span><span class="co">#&gt; 244-select_one-Part3.P3_S2.VAW.VAW01a</span></span>
<span><span class="co">#&gt; 245-select_one-Part3.P3_S2.VAW.VAW01b</span></span>
<span><span class="co">#&gt; 246-select_one-Part3.P3_S2.VAW.VAW01c</span></span>
<span><span class="co">#&gt; 247-select_one-Part3.P3_S2.VAW.VAW01d</span></span>
<span><span class="co">#&gt; 248-select_one-Part3.P3_S2.VAW.VAW01e</span></span>
<span><span class="co">#&gt; 249-end_group-Part3.P3_S2.VAW</span></span>
<span><span class="co">#&gt; 250-end_group-Part3.P3_S2S2</span></span>
<span><span class="co">#&gt; 251-end_group-Part3</span></span>
<span><span class="co">#&gt; 252-begin_group-complete_survey.complete_survey</span></span>
<span><span class="co">#&gt; 253-note-complete_survey.end_survey</span></span>
<span><span class="co">#&gt; 254-select_one-complete_survey.contact_number</span></span>
<span><span class="co">#&gt; 255-text-complete_survey.number_respondent</span></span>
<span><span class="co">#&gt; 256-select_one-complete_survey.end_result</span></span>
<span><span class="co">#&gt; 257-select_one-complete_survey.name_respondent</span></span>
<span><span class="co">#&gt; 258-select_one-complete_survey.final_notes</span></span>
<span><span class="co">#&gt; 259-text-complete_survey.final_notes_entry</span></span>
<span><span class="co">#&gt; 260-end_group-complete_survey</span></span>
<span><span class="co">#&gt; 261-calculate-end_time_1</span></span>
<span><span class="co">#&gt; 1 in repeat -rpt_hhmnames ///begin_repeat-Part1.rpt_hhmnames.rpt_hhmnames</span></span>
<span><span class="co">#&gt; 2 in repeat -rpt_hhmnames ///calculate-Part1.rpt_hhmnames.hhmnames_pos</span></span>
<span><span class="co">#&gt; 3 in repeat -rpt_hhmnames ///calculate-Part1.rpt_hhmnames.HHH01_2_aux</span></span>
<span><span class="co">#&gt; 4 in repeat -rpt_hhmnames ///text-Part1.rpt_hhmnames.HH01_aux</span></span>
<span><span class="co">#&gt; 5 in repeat -rpt_hhmnames ///select_one-Part1.rpt_hhmnames.HH03_aux</span></span>
<span><span class="co">#&gt; 6 in repeat -rpt_hhmnames ///calculate-Part1.rpt_hhmnames.HH01_2_aux</span></span>
<span><span class="co">#&gt; 7 in repeat -rpt_hhmnames ///calculate-Part1.rpt_hhmnames.HH03_2_aux</span></span>
<span><span class="co">#&gt; 8 in repeat -rpt_hhmnames ///note-Part1.rpt_hhmnames.nt_names</span></span>
<span><span class="co">#&gt; 1 in repeat -S1 ///begin_repeat-Part1.S1.S1</span></span>
<span><span class="co">#&gt; 2 in repeat -S1 ///calculate-Part1.S1.personId</span></span>
<span><span class="co">#&gt; 3 in repeat -S1 ///calculate-Part1.S1.hhroster_pos_aux</span></span>
<span><span class="co">#&gt; 4 in repeat -S1 ///calculate-Part1.S1.hhmnames_pos_match</span></span>
<span><span class="co">#&gt; 5 in repeat -S1 ///calculate-Part1.S1.HH01</span></span>
<span><span class="co">#&gt; 6 in repeat -S1 ///calculate-Part1.S1.HH03</span></span>
<span><span class="co">#&gt; 7 in repeat -S1 ///note-Part1.S1.nt_endnames</span></span>
<span><span class="co">#&gt; 8 in repeat -S1 ///note-Part1.S1.nt_rostermember</span></span>
<span><span class="co">#&gt; 9 in repeat -S1 ///select_one-Part1.S1.HH04</span></span>
<span><span class="co">#&gt; 10 in repeat -S1 ///select_one-Part1.S1.HH05</span></span>
<span><span class="co">#&gt; 11 in repeat -S1 ///date-Part1.S1.HH06</span></span>
<span><span class="co">#&gt; 12 in repeat -S1 ///calculate-Part1.S1.calcul1</span></span>
<span><span class="co">#&gt; 13 in repeat -S1 ///integer-Part1.S1.age</span></span>
<span><span class="co">#&gt; 14 in repeat -S1 ///integer-Part1.S1.AgeMonths</span></span>
<span><span class="co">#&gt; 15 in repeat -S1 ///calculate-Part1.S1.ageMD</span></span>
<span><span class="co">#&gt; 16 in repeat -S1 ///note-Part1.S1.agecalculated</span></span>
<span><span class="co">#&gt; 17 in repeat -S1 ///integer-Part1.S1.age_est</span></span>
<span><span class="co">#&gt; 18 in repeat -S1 ///integer-Part1.S1.months_est</span></span>
<span><span class="co">#&gt; 19 in repeat -S1 ///calculate-Part1.S1.HH07</span></span>
<span><span class="co">#&gt; 20 in repeat -S1 ///calculate-Part1.S1.HH07_months</span></span>
<span><span class="co">#&gt; 21 in repeat -S1 ///select_one-Part1.S1.HH08</span></span>
<span><span class="co">#&gt; 22 in repeat -S1 ///calculate-Part1.S1.start_time_2</span></span>
<span><span class="co">#&gt; 23 in repeat -S1 ///calculate-Part1.S1.position</span></span>
<span><span class="co">#&gt; 24 in repeat -S1 ///calculate-Part1.S1.Relation_R</span></span>
<span><span class="co">#&gt; 25 in repeat -S1 ///calculate-Part1.S1.adult18</span></span>
<span><span class="co">#&gt; 26 in repeat -S1 ///calculate-Part1.S1.women_b</span></span>
<span><span class="co">#&gt; 27 in repeat -S1 ///calculate-Part1.S1.father_b</span></span>
<span><span class="co">#&gt; 28 in repeat -S1 ///calculate-Part1.S1.childLess2</span></span>
<span><span class="co">#&gt; 29 in repeat -S1 ///calculate-Part1.S1.childLess2name</span></span>
<span><span class="co">#&gt; 30 in repeat -S1 ///calculate-Part1.S1.women</span></span>
<span><span class="co">#&gt; 31 in repeat -S1 ///calculate-Part1.S1.father</span></span>
<span><span class="co">#&gt; 32 in repeat -S1 ///calculate-Part1.S1.adult</span></span>
<span><span class="co">#&gt; 33 in repeat -S1 ///calculate-Part1.S1.women_b_count</span></span>
<span><span class="co">#&gt; 34 in repeat -S1 ///calculate-Part1.S1.hh_size</span></span>
<span><span class="co">#&gt; 35 in repeat -S1 ///calculate-Part1.S1.hhhead_age_ab18</span></span>
<span><span class="co">#&gt; 36 in repeat -S1 ///calculate-Part1.S1.adult_sum</span></span>
<span><span class="co">#&gt; 37 in repeat -S1 ///calculate-Part1.S1.hhhead_age</span></span>
<span><span class="co">#&gt; 38 in repeat -S1 ///calculate-Part1.S1.position18</span></span>
<span><span class="co">#&gt; 39 in repeat -S1 ///calculate-Part1.S1.adult01</span></span>
<span><span class="co">#&gt; 40 in repeat -S1 ///calculate-Part1.S1.age18above</span></span>
<span><span class="co">#&gt; 1 in repeat -S2_repeat ///begin_repeat-S2_repeat.S2_repeat</span></span>
<span><span class="co">#&gt; 2 in repeat -S2_repeat ///calculate-S2_repeat.name_individual</span></span>
<span><span class="co">#&gt; 3 in repeat -S2_repeat ///calculate-S2_repeat.ind_age_year</span></span>
<span><span class="co">#&gt; 4 in repeat -S2_repeat ///calculate-S2_repeat.ind_age_month</span></span>
<span><span class="co">#&gt; 5 in repeat -S2_repeat ///begin_group-S2_repeat.P1_S2.P1_S2</span></span>
<span><span class="co">#&gt; 6 in repeat -S2_repeat ///select_one-S2_repeat.P1_S2.REF01</span></span>
<span><span class="co">#&gt; 7 in repeat -S2_repeat ///calculate-S2_repeat.P1_S2.citizenship</span></span>
<span><span class="co">#&gt; 8 in repeat -S2_repeat ///select_one-S2_repeat.P1_S2.REF02</span></span>
<span><span class="co">#&gt; 9 in repeat -S2_repeat ///calculate-S2_repeat.P1_S2.citizenship2</span></span>
<span><span class="co">#&gt; 10 in repeat -S2_repeat ///select_one-S2_repeat.P1_S2.REF03</span></span>
<span><span class="co">#&gt; 11 in repeat -S2_repeat ///select_one-S2_repeat.P1_S2.REF04</span></span>
<span><span class="co">#&gt; 12 in repeat -S2_repeat ///select_one-S2_repeat.P1_S2.REF05</span></span>
<span><span class="co">#&gt; 13 in repeat -S2_repeat ///calculate-S2_repeat.P1_S2.countrybirth</span></span>
<span><span class="co">#&gt; 14 in repeat -S2_repeat ///select_one-S2_repeat.P1_S2.REF07</span></span>
<span><span class="co">#&gt; 15 in repeat -S2_repeat ///select_one-S2_repeat.P1_S2.REF08</span></span>
<span><span class="co">#&gt; 16 in repeat -S2_repeat ///select_one-S2_repeat.P1_S2.REF09</span></span>
<span><span class="co">#&gt; 17 in repeat -S2_repeat ///date-S2_repeat.P1_S2.REF10a</span></span>
<span><span class="co">#&gt; 18 in repeat -S2_repeat ///text-S2_repeat.P1_S2.REF10b</span></span>
<span><span class="co">#&gt; 19 in repeat -S2_repeat ///select_one-S2_repeat.P1_S2.REF11</span></span>
<span><span class="co">#&gt; 20 in repeat -S2_repeat ///select_one-S2_repeat.P1_S2.REF12</span></span>
<span><span class="co">#&gt; 21 in repeat -S2_repeat ///date-S2_repeat.P1_S2.REF12a</span></span>
<span><span class="co">#&gt; 22 in repeat -S2_repeat ///text-S2_repeat.P1_S2.REF12b</span></span>
<span><span class="co">#&gt; 23 in repeat -S2_repeat ///select_one-S2_repeat.P1_S2.REF13</span></span>
<span><span class="co">#&gt; 24 in repeat -S2_repeat ///select_one-S2_repeat.P1_S2.REF14</span></span>
<span><span class="co">#&gt; 25 in repeat -S2_repeat ///select_one-S2_repeat.P1_S2.REF15</span></span>
<span><span class="co">#&gt; 26 in repeat -S2_repeat ///select_one-S2_repeat.P1_S2.REF16</span></span>
<span><span class="co">#&gt; 27 in repeat -S2_repeat ///text-S2_repeat.P1_S2.REF16_other</span></span>
<span><span class="co">#&gt; 28 in repeat -S2_repeat ///select_one-S2_repeat.P1_S2.REF16a</span></span>
<span><span class="co">#&gt; 29 in repeat -S2_repeat ///text-S2_repeat.P1_S2.REF16a_other</span></span>
<span><span class="co">#&gt; 30 in repeat -S2_repeat ///end_group-S2_repeat.P1_S2</span></span>
<span><span class="co">#&gt; 31 in repeat -S2_repeat ///begin_group-S2_repeat.P1_S3.P1_S3</span></span>
<span><span class="co">#&gt; 32 in repeat -S2_repeat ///select_multiple-S2_repeat.P1_S3.IDP01</span></span>
<span><span class="co">#&gt; 33 in repeat -S2_repeat ///text-S2_repeat.P1_S3.IDP01a</span></span>
<span><span class="co">#&gt; 34 in repeat -S2_repeat ///select_one-S2_repeat.P1_S3.IDP02</span></span>
<span><span class="co">#&gt; 35 in repeat -S2_repeat ///date-S2_repeat.P1_S3.IDP02a</span></span>
<span><span class="co">#&gt; 36 in repeat -S2_repeat ///text-S2_repeat.P1_S3.IDP02b</span></span>
<span><span class="co">#&gt; 37 in repeat -S2_repeat ///end_group-S2_repeat.P1_S3</span></span>
<span><span class="co">#&gt; 38 in repeat -S2_repeat ///begin_group-S2_repeat.P1_S4.P1_S4</span></span>
<span><span class="co">#&gt; 39 in repeat -S2_repeat ///begin_group-S2_repeat.P1_S4.S4_above5.S4_above5</span></span>
<span><span class="co">#&gt; 40 in repeat -S2_repeat ///select_one-S2_repeat.P1_S4.S4_above5.REG01</span></span>
<span><span class="co">#&gt; 41 in repeat -S2_repeat ///select_one-S2_repeat.P1_S4.S4_above5.REG01a</span></span>
<span><span class="co">#&gt; 42 in repeat -S2_repeat ///select_one-S2_repeat.P1_S4.S4_above5.REG01b</span></span>
<span><span class="co">#&gt; 43 in repeat -S2_repeat ///select_one-S2_repeat.P1_S4.S4_above5.REG01c</span></span>
<span><span class="co">#&gt; 44 in repeat -S2_repeat ///select_one-S2_repeat.P1_S4.S4_above5.REG01d</span></span>
<span><span class="co">#&gt; 45 in repeat -S2_repeat ///select_one-S2_repeat.P1_S4.S4_above5.REG01e</span></span>
<span><span class="co">#&gt; 46 in repeat -S2_repeat ///select_one-S2_repeat.P1_S4.S4_above5.REG01f</span></span>
<span><span class="co">#&gt; 47 in repeat -S2_repeat ///select_one-S2_repeat.P1_S4.S4_above5.REG01g</span></span>
<span><span class="co">#&gt; 48 in repeat -S2_repeat ///end_group-S2_repeat.P1_S4.S4_above5</span></span>
<span><span class="co">#&gt; 49 in repeat -S2_repeat ///select_one-S2_repeat.P1_S4.REG02</span></span>
<span><span class="co">#&gt; 50 in repeat -S2_repeat ///select_one-S2_repeat.P1_S4.REG03</span></span>
<span><span class="co">#&gt; 51 in repeat -S2_repeat ///select_one-S2_repeat.P1_S4.REG04</span></span>
<span><span class="co">#&gt; 52 in repeat -S2_repeat ///begin_group-S2_repeat.P1_S4.S4_below5.S4_below5</span></span>
<span><span class="co">#&gt; 53 in repeat -S2_repeat ///select_one-S2_repeat.P1_S4.S4_below5.REG05</span></span>
<span><span class="co">#&gt; 54 in repeat -S2_repeat ///select_one-S2_repeat.P1_S4.S4_below5.REG05a</span></span>
<span><span class="co">#&gt; 55 in repeat -S2_repeat ///select_one-S2_repeat.P1_S4.S4_below5.REG05b</span></span>
<span><span class="co">#&gt; 56 in repeat -S2_repeat ///select_one-S2_repeat.P1_S4.S4_below5.REG05c</span></span>
<span><span class="co">#&gt; 57 in repeat -S2_repeat ///select_one-S2_repeat.P1_S4.S4_below5.REG05d</span></span>
<span><span class="co">#&gt; 58 in repeat -S2_repeat ///select_one-S2_repeat.P1_S4.S4_below5.REG05e</span></span>
<span><span class="co">#&gt; 59 in repeat -S2_repeat ///select_one-S2_repeat.P1_S4.S4_below5.REG05f</span></span>
<span><span class="co">#&gt; 60 in repeat -S2_repeat ///end_group-S2_repeat.P1_S4.S4_below5</span></span>
<span><span class="co">#&gt; 61 in repeat -S2_repeat ///select_one-S2_repeat.P1_S4.REG06</span></span>
<span><span class="co">#&gt; 62 in repeat -S2_repeat ///end_group-S2_repeat.P1_S4</span></span>
<span><span class="co">#&gt; 63 in repeat -S2_repeat ///begin_group-S2_repeat.P1_S5.P1_S5</span></span>
<span><span class="co">#&gt; 64 in repeat -S2_repeat ///note-S2_repeat.P1_S5.ind_name</span></span>
<span><span class="co">#&gt; 65 in repeat -S2_repeat ///select_one-S2_repeat.P1_S5.MMR01</span></span>
<span><span class="co">#&gt; 66 in repeat -S2_repeat ///select_one-S2_repeat.P1_S5.MMR02</span></span>
<span><span class="co">#&gt; 67 in repeat -S2_repeat ///select_one-S2_repeat.P1_S5.MMR03</span></span>
<span><span class="co">#&gt; 68 in repeat -S2_repeat ///integer-S2_repeat.P1_S5.MMR04</span></span>
<span><span class="co">#&gt; 69 in repeat -S2_repeat ///end_group-S2_repeat.P1_S5</span></span>
<span><span class="co">#&gt; 70 in repeat -S2_repeat ///begin_group-S2_repeat.P1_S6.P1_S6</span></span>
<span><span class="co">#&gt; 71 in repeat -S2_repeat ///note-S2_repeat.P1_S6.N_DIS01</span></span>
<span><span class="co">#&gt; 72 in repeat -S2_repeat ///select_one-S2_repeat.P1_S6.DIS01a</span></span>
<span><span class="co">#&gt; 73 in repeat -S2_repeat ///select_one-S2_repeat.P1_S6.DIS01</span></span>
<span><span class="co">#&gt; 74 in repeat -S2_repeat ///select_one-S2_repeat.P1_S6.DIS02</span></span>
<span><span class="co">#&gt; 75 in repeat -S2_repeat ///select_one-S2_repeat.P1_S6.DIS03</span></span>
<span><span class="co">#&gt; 76 in repeat -S2_repeat ///select_one-S2_repeat.P1_S6.DIS04</span></span>
<span><span class="co">#&gt; 77 in repeat -S2_repeat ///select_one-S2_repeat.P1_S6.DIS05</span></span>
<span><span class="co">#&gt; 78 in repeat -S2_repeat ///select_one-S2_repeat.P1_S6.DIS06</span></span>
<span><span class="co">#&gt; 79 in repeat -S2_repeat ///end_group-S2_repeat.P1_S6</span></span>
<span><span class="co">#&gt; 80 in repeat -S2_repeat ///begin_group-S2_repeat.P1_S7.P1_S7</span></span>
<span><span class="co">#&gt; 81 in repeat -S2_repeat ///select_one-S2_repeat.P1_S7.HACC01</span></span>
<span><span class="co">#&gt; 82 in repeat -S2_repeat ///select_one-S2_repeat.P1_S7.HACC02</span></span>
<span><span class="co">#&gt; 83 in repeat -S2_repeat ///text-S2_repeat.P1_S7.HACC02_other</span></span>
<span><span class="co">#&gt; 84 in repeat -S2_repeat ///calculate-S2_repeat.P1_S7.reason_care</span></span>
<span><span class="co">#&gt; 85 in repeat -S2_repeat ///select_one-S2_repeat.P1_S7.HACC03</span></span>
<span><span class="co">#&gt; 86 in repeat -S2_repeat ///select_multiple-S2_repeat.P1_S7.HACC04</span></span>
<span><span class="co">#&gt; 87 in repeat -S2_repeat ///text-S2_repeat.P1_S7.HACC04_other</span></span>
<span><span class="co">#&gt; 88 in repeat -S2_repeat ///end_group-S2_repeat.P1_S7</span></span>
<span><span class="co">#&gt; 89 in repeat -S2_repeat ///begin_group-S2_repeat.P1_S8.P1_S8</span></span>
<span><span class="co">#&gt; 90 in repeat -S2_repeat ///begin_group-S2_repeat.P1_S8.S8_edu.S8_edu</span></span>
<span><span class="co">#&gt; 91 in repeat -S2_repeat ///note-S2_repeat.P1_S8.S8_edu.name_ind</span></span>
<span><span class="co">#&gt; 92 in repeat -S2_repeat ///select_one-S2_repeat.P1_S8.S8_edu.EDU01</span></span>
<span><span class="co">#&gt; 93 in repeat -S2_repeat ///select_one-S2_repeat.P1_S8.S8_edu.EDU02</span></span>
<span><span class="co">#&gt; 94 in repeat -S2_repeat ///select_one-S2_repeat.P1_S8.S8_edu.EDU03</span></span>
<span><span class="co">#&gt; 95 in repeat -S2_repeat ///select_one-S2_repeat.P1_S8.S8_edu.EDU04</span></span>
<span><span class="co">#&gt; 96 in repeat -S2_repeat ///text-S2_repeat.P1_S8.S8_edu.EDU04_other</span></span>
<span><span class="co">#&gt; 97 in repeat -S2_repeat ///select_one-S2_repeat.P1_S8.S8_edu.EDU05</span></span>
<span><span class="co">#&gt; 98 in repeat -S2_repeat ///text-S2_repeat.P1_S8.S8_edu.EDU05_other</span></span>
<span><span class="co">#&gt; 99 in repeat -S2_repeat ///end_group-S2_repeat.P1_S8.S8_edu</span></span>
<span><span class="co">#&gt; 100 in repeat -S2_repeat ///begin_group-S2_repeat.P1_S8.S8_comm.S8_comm</span></span>
<span><span class="co">#&gt; 101 in repeat -S2_repeat ///note-S2_repeat.P1_S8.S8_comm.name_ind2</span></span>
<span><span class="co">#&gt; 102 in repeat -S2_repeat ///select_one-S2_repeat.P1_S8.S8_comm.COMM01</span></span>
<span><span class="co">#&gt; 103 in repeat -S2_repeat ///integer-S2_repeat.P1_S8.S8_comm.COMM02</span></span>
<span><span class="co">#&gt; 104 in repeat -S2_repeat ///select_one-S2_repeat.P1_S8.S8_comm.COMM03</span></span>
<span><span class="co">#&gt; 105 in repeat -S2_repeat ///select_one-S2_repeat.P1_S8.S8_comm.COMM04</span></span>
<span><span class="co">#&gt; 106 in repeat -S2_repeat ///end_group-S2_repeat.P1_S8.S8_comm</span></span>
<span><span class="co">#&gt; 107 in repeat -S2_repeat ///end_group-S2_repeat.P1_S8</span></span>
<span></span>
<span><span class="co">## Save this to use it for testing the package...</span></span>
<span></span>
<span><span class="fu">openxlsx</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/openxlsx/man/write.xlsx.html" class="external-link">write.xlsx</a></span><span class="op">(</span><span class="va">datalist</span>, <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"inst"</span>, <span class="st">"demo_data.xlsx"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="fct_plot_rbm_sdg---sdg-comparison">fct_plot_rbm_sdg - SDG Comparison<a class="anchor" aria-label="anchor" href="#fct_plot_rbm_sdg---sdg-comparison"></a>
</h3>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/fct_plot_rbm_sdg.html">fct_plot_rbm_sdg</a></span><span class="op">(</span> country <span class="op">=</span> <span class="st">"BRA"</span>, </span>
<span>          rbm <span class="op">=</span> <span class="st">"impact2_2"</span>,</span>
<span>          years <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2000</span>, <span class="fl">2022</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>        <span class="fu">unhcrthemes</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/unhcrthemes/man/theme_unhcr.html" class="external-link">theme_unhcr</a></span><span class="op">(</span>font_size <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> </span>
<span><span class="co">#&gt; Loading required package: ggplot2</span></span>
<span><span class="co">#&gt; Loading required package: dplyr</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span></code></pre></div>
<p><img src="utilities_files/figure-html/example-fct_plot_rbm_sdg-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="fct_compass_table">fct_compass_table<a class="anchor" aria-label="anchor" href="#fct_compass_table"></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># compass &lt;- export_compass_fill( country = "ECU",</span></span>
<span><span class="co">#                        operation = "Ecuador ABC",</span></span>
<span><span class="co">#                        year = 2022,</span></span>
<span><span class="co">#                         population_type = c("REF","ASY", "OIP"),</span></span>
<span><span class="co">#                         population_rms = "Refugees and Asylum-seekers",</span></span>
<span><span class="co">#                         rms_indicator =    rbind(</span></span>
<span><span class="co">#   c("main", "impact2_2",  "2.2 Proportion of PoCs residing in physically safe and</span></span>
<span><span class="co">#                            secure settlements with access to basic facilities"),</span></span>
<span><span class="co">#   c("main", "impact2_3",  "2.3 Proportion of PoC with access to health services"),</span></span>
<span><span class="co">#   c("P2.S3", "impact3_2a", "3.2a Proportion of PoC enrolled in primary education" ),</span></span>
<span><span class="co">#   c("P2.S3", "impact3_2b",  "3.2b Proportion of PoC enrolled in secondary education" ),</span></span>
<span><span class="co">#   c("main", "impact3_3",  "3.3 Proportion of PoC feeling safe walking alone in their neighborhood (related SDG 16.1.4)." ),</span></span>
<span><span class="co">#   c("S2", "outcome1_2", "1.2 Proportion of children under 5 years of age whose births</span></span>
<span><span class="co">#                    have been registered with a civil authority. [SDG 16.9.1 - Tier 1]" ),</span></span>
<span><span class="co">#   c("S2", "outcome1_3", "1.3 Proportion of PoC with legally recognized identity documents or credentials [GCR 4.2.2]." ),</span></span>
<span><span class="co">#   c("main", "outcome4_1", "4.1 Proportion of PoC who know where to access available GBV services." ),</span></span>
<span><span class="co">#   c("main", "outcome4_2", "4.2 Proportion of POCs who do not accept violence against women." ),</span></span>
<span><span class="co">#   c("main", "outcome8_2", "8.2 Proportion of PoC with primary reliance on clean (cooking) fuels and technology [SDG 7.1.2 Tier 1]" ),</span></span>
<span><span class="co">#   c("main", "outcome9_1", "9.1 Proportion of PoCs living in habitable and affordable housing." ),</span></span>
<span><span class="co">#   c("main", "outcome9_2", "9.2 Proportion of PoC that have energy to ensure lighting (close to Sphere)." ),</span></span>
<span><span class="co">#   c("main","outcome12_1", "12.1 Proportion of PoC using at least basic drinking water services (SDG)." ),</span></span>
<span><span class="co"># #  c("main" , "outcome12_2", "12.2 Proportion of PoC with access to a safe household toilet (SDG)." ),</span></span>
<span><span class="co">#   c("main", "outcome13_1", "13.1. Proportion of PoC with an account at a bank or other</span></span>
<span><span class="co">#                               financial institution or with a mobile-money-service provider [SDG 8.10.2 Tier 1]." ),</span></span>
<span><span class="co">#   c("main", "outcome13_2", "13.2. Proportion of PoC who self-report positive changes in their income compared to previous year." ),</span></span>
<span><span class="co">#   c("main", "outcome13_3",  "13.3 Proportion of PoC (working age) who are unemployed." ),</span></span>
<span><span class="co">#   c("main", "outcome16_1", "16.1. Proportion of PoC with secure tenure rights and/or</span></span>
<span><span class="co">#     property rights to housing and/or land [revised SDG indicator 1.4.2]." )#,</span></span>
<span><span class="co">#  # c("main", "outcome16_2", "16.2. Proportion of PoC covered by social protection floors/systems [SDG 1.3.1]." )</span></span>
<span><span class="co">#      ),</span></span>
<span><span class="co">#              ridl = params$ridl,</span></span>
<span><span class="co">#              publish = params$publish )</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Edouard Legoupil.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
